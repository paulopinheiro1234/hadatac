@import helper._
@import org.hadatac.console.views.html._
@import org.hadatac.console.models.FacetHandler

@(	page : Int,
	rows : Int,
	facets : String,
	resultsSize : Long,
	results : org.hadatac.data.model.AcquisitionQueryResult,
	documentJson : String,
	handler : FacetHandler,
	objDetails : String,
	objFields : List[String],
	objOCs : List[org.hadatac.entity.pojo.ObjectCollection]
)

@main("Simple Faceted Search") {
    <script type="text/javascript" src="/hadatac/assets/javascripts/jquery.redirect.js"></script>
	<script type="text/javascript" src="/hadatac/assets/javascripts/datasearch.js"></script>
	<div id="query" data-documents="@documentJson"/>
	<div id="facetDiv" data-documents="@handler.toJSON()"/>
	
	<div class="container-fluid">
		<div class="row">
		        <div id="legend">
			        <legend>Facet search</legend>
		        </div>

			<div class="col-md-2 sidebar">
			   <center><font size="4"> Selected data values: <b>@resultsSize</b></font> </center> <br></br>
			</div>
			<div class="col-md-5 sidebar">
			        <button type="button" class="btn btn-primary" onClick="search();">Search</button>
			        <button type="button" class="btn btn-primary" onClick="clearSearch();">Clear Search</button>
				    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Download</button>
				    <button type="button" class="btn btn-primary" onClick="showData(1);">Show Data</button>

				<div id="download_url" style="visibility: hidden ;">@org.hadatac.console.http.routes.SolrSearchProxy.getDataAcquisitionDownload()</div>
			    
			    @downloadDialog(page, rows, facets, resultsSize, results, documentJson, objDetails, objFields, objOCs)
			</div>
	        </div>
		<div class="row">
			<div class="col-md-3 sidebar">
				<div width="100%" style="background-color:#dddddd">
					<label class="col-md-offset-1 control-label">Studies and Data Acquisitions</label>
				</div>
				<div id="treeStudyBox" style="width:100%; height:400px; background-color:#f5f5f5; border :1px solid Silver; overflow:auto;"></div>
				
			</div>
			<div class="col-md-3 sidebar">
				<div width="100%" style="background-color:#dddddd">
					<label class="col-md-offset-1 control-label">Entities and Attributes</label>
				</div>
				<div id="treeEntityCharacteristicBox" style="width:100%; height:400px; background-color:#f5f5f5; border :1px solid Silver; overflow:auto;"></div>
				
			</div>
			<div class="col-md-2 sidebar">
				<div width="100%" style="background-color:#dddddd">
					<label class="col-md-offset-1 control-label">Units</label>
				</div>
				<div id="treeUnitBox" style="width:100%; height:400px; background-color:#f5f5f5; border :1px solid Silver; overflow:auto;"></div>
				
			</div>
			<div class="col-md-2 sidebar">
				<div width="100%" style="background-color:#dddddd">
					<label class="col-md-offset-1 control-label">Times</label>
				</div>
				<div id="treeTimeBox" style="width:100%; height:400px; background-color:#f5f5f5; border :1px solid Silver; overflow:auto;"></div>
				
			</div>
			<div class="col-md-2 sidebar">
				<div width="100%" style="background-color:#dddddd">
					<label class="col-md-offset-1 control-label">Platforms and Instruments</label>
				</div>
				<div id="treePlatformInstrumentBox" style="width:100%; height:400px; background-color:#f5f5f5; border :1px solid Silver; overflow:auto;"></div>
				
			</div>
		</div>
	</div>
	
	@facetTree(page, rows, facets, resultsSize, results, documentJson, handler, objDetails)
}
